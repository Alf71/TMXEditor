<!DOCTYPE html>
<html lang="en">

<head>
    <title>TMXEditor</title>
    <link id="theme" rel="stylesheet" type="text/css" href="css/light.css">
    <link rel="stylesheet" type="text/css" href="css/layout.css">
    <link rel="stylesheet" type="text/css" href="css/fonts.css">
</head>

<body id="body" onload="getTheme();setSizes();" onresize="resizePanels()">
    <header>
        <div style="padding-top:0px; display:flex;">
            <a onclick="openFile()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.816497" id="path299"
                        d="m 20.0575,11.2 -1.154167,7.2 H 5.0966667 L 3.9425,11.2 Z M 8.6433333,4 h -5.81 l 0.595,4 H 5.1125 L 4.755,5.6 H 7.8333333 C 8.76,6.7104 9.46,7.2 11.3975,7.2 h 7.735833 L 18.966667,8 h 1.7 l 0.5,-2.4 H 11.3975 C 9.7491667,5.6 9.6966667,5.2664 8.6433333,4 Z M 22,9.6 H 2 L 3.6666667,20 H 20.333333 Z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Open File</span>
            </a>
            <a onclick="newFile()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.825723"
                        d="m 21,16.166667 h -2.454545 v -2.5 h -1.636364 v 2.5 h -2.454546 v 1.666666 h 2.454546 v 2.5 h 1.636364 v -2.5 H 21 Z m -5.727273,4.166666 V 22 H 3 V 2 h 8.336455 c 2.587909,0 8.027181,6.0191667 8.027181,8.011667 V 12 h -1.636363 v -1.285833 c 0,-3.4225003 -4.909091,-2.0475003 -4.909091,-2.0475003 0,0 1.242,-5 -2.158364,-5 H 4.6363636 V 20.333333 Z" />
                </svg>
                <span class="tooltiptext bottomTooltip">New File</span>
            </a>
            <a onclick="saveFile()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.805077"
                        d="m 13.555556,3.6666667 v 9.1666663 h 1.952222 L 12,17.008333 8.4922222,12.833333 H 10.444444 V 3.6666667 Z M 15.111111,2 H 8.8888889 v 9.166667 H 5 L 12,19.5 19,11.166667 h -3.888889 z m 2.333333,15.833333 v 2.5 H 6.5555556 v -2.5 H 5 V 22 h 14 v -4.166667 z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Save File</span>
            </a>
            <a onclick="showFileInfo()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.833333"
                        d="M 12,3.6666667 C 16.595,3.6666667 20.333333,7.405 20.333333,12 20.333333,16.595 16.595,20.333333 12,20.333333 7.405,20.333333 3.6666667,16.595 3.6666667,12 3.6666667,7.405 7.405,3.6666667 12,3.6666667 Z M 12,2 C 6.4775,2 2,6.4775 2,12 2,17.5225 6.4775,22 12,22 17.5225,22 22,17.5225 22,12 22,6.4775 17.5225,2 12,2 Z m 0.833333,15 h -1.666666 v -6.666667 h 1.666666 z M 12,6.7916667 c 0.575,0 1.041667,0.4666666 1.041667,1.0416666 C 13.041667,8.4083333 12.575,8.875 12,8.875 c -0.575,0 -1.041667,-0.4666667 -1.041667,-1.0416667 0,-0.575 0.466667,-1.0416666 1.041667,-1.0416666 z" />
                </svg>
                <span class="tooltiptext bottomTooltip">File Properties</span>
            </a>
            <span style="width: 30px;">&nbsp;</span>
            <a onclick="saveEdit()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.833333"
                        d="M 12,3.6666667 C 16.595,3.6666667 20.333333,7.405 20.333333,12 20.333333,16.595 16.595,20.333333 12,20.333333 7.405,20.333333 3.6666667,16.595 3.6666667,12 3.6666667,7.405 7.405,3.6666667 12,3.6666667 Z M 12,2 C 6.4775,2 2,6.4775 2,12 2,17.5225 6.4775,22 12,22 17.5225,22 22,17.5225 22,12 22,6.4775 17.5225,2 12,2 Z m 3.660833,6.25 -4.7025,4.82 L 8.755,10.981667 7.2083333,12.53 l 3.7499997,3.636667 6.25,-6.369167 z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Confirm Edit</span>
            </a>
            <a onclick="cancelEdit()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.833333"
                        d="M 12,3.6666667 C 16.595,3.6666667 20.333333,7.405 20.333333,12 20.333333,16.595 16.595,20.333333 12,20.333333 7.405,20.333333 3.6666667,16.595 3.6666667,12 3.6666667,7.405 7.405,3.6666667 12,3.6666667 Z M 12,2 C 6.4775,2 2,6.4775 2,12 2,17.5225 6.4775,22 12,22 17.5225,22 22,17.5225 22,12 22,6.4775 17.5225,2 12,2 Z m 5,13.781667 -3.826667,-3.79 L 16.961667,8.1691667 15.781667,7 11.994167,10.824167 8.1708333,7.0383333 7,8.2091667 10.8275,12.0025 7.0383333,15.829167 8.2091667,17 12.005,13.17 l 3.825833,3.791667 z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Cancel Edit</span>
            </a>
            <span style="width: 30px;">&nbsp;</span>
            <a onclick="replaceText()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.833333"
                        d="M 13.515011,15.871667 C 12.454179,16.535833 11.243347,16.918333 10.013349,17 L 9.5658494,15.3475 c 1.7358316,-0.01583 3.4433286,-0.7925 4.5749936,-2.27 1.779165,-2.325 1.519998,-5.575 -0.479166,-7.615 L 12.185013,7.3908333 10.710015,2 h 5.537492 l -1.564164,2.1275 c 2.562496,2.4508333 3.067496,6.3825 1.185831,9.385 L 22,19.643333 19.643336,22 Z M 4.3283562,14.935 C 2.8025249,13.480833 2.0050259,11.496667 2.000026,9.5 1.9958593,7.91 2.4933586,6.315 3.5333573,4.9566667 4.8975221,3.175 6.9091862,2.1516667 8.9908502,2.0158333 l 0.4533327,1.6508334 c -1.7391644,0.0125 -3.4516622,0.8241666 -4.584994,2.305 C 3.0766912,8.3008333 3.3408575,11.559167 5.3500216,13.6 L 6.828353,11.669167 8.3100177,17 H 2.7775249 Z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Replace Text</span>
            </a>
            <span style="width: 30px;">&nbsp;</span>
            <a onclick="insertUnit()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.833333"
                        d="M 12,3.6666667 C 16.595,3.6666667 20.333333,7.405 20.333333,12 20.333333,16.595 16.595,20.333333 12,20.333333 7.405,20.333333 3.6666667,16.595 3.6666667,12 3.6666667,7.405 7.405,3.6666667 12,3.6666667 Z M 12,2 C 6.4775,2 2,6.4775 2,12 2,17.5225 6.4775,22 12,22 17.5225,22 22,17.5225 22,12 22,6.4775 17.5225,2 12,2 Z m 5,10.833333 H 12.833333 V 17 H 11.166667 V 12.833333 H 7 v -1.666666 h 4.166667 V 7 h 1.666666 v 4.166667 H 17 Z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Insert Unit</span>
            </a>
            <a onclick="deleteUnits()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.833333"
                        d="M 12,3.6666667 C 16.595,3.6666667 20.333333,7.405 20.333333,12 20.333333,16.595 16.595,20.333333 12,20.333333 7.405,20.333333 3.6666667,16.595 3.6666667,12 3.6666667,7.405 7.405,3.6666667 12,3.6666667 Z M 12,2 C 6.4775,2 2,6.4775 2,12 2,17.5225 6.4775,22 12,22 17.5225,22 22,17.5225 22,12 22,6.4775 17.5225,2 12,2 Z m 5,10.833333 H 7 v -1.666666 h 10 z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Delete Selected Units</span>
            </a>
            <span style="width: 30px;">&nbsp;</span>
            <a onclick="sortUnits()" class="tooltip" id="sorting">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.805077"
                        d="m 8.666667,10.444444 v 3.111112 H 12 L 7,19 2,13.555556 H 5.333333 V 10.444444 H 2 L 7,5 12,10.444444 Z M 22,14.333333 h -8.333333 v 1.555556 H 22 Z M 22,19 H 13.666667 V 17.444444 H 22 Z m 0,-6.222222 H 13.666667 V 11.222222 H 22 Z M 22,9.6666667 H 13.666667 V 8.1111111 H 22 Z M 22,6.5555556 H 13.666667 V 5 H 22 Z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Sort Units</span>
            </a>
            <a onclick="filterUnits()" class="tooltip" id="filtering">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.829702"
                        d="M 18.091348,3.6666667 11.913044,14.119167 v 4.936666 l -0.826087,-0.5 V 14.119167 L 4.9086522,3.6666667 Z M 21,2 H 2 L 9.4347826,14.578333 V 19.5 L 13.565217,22 v -7.421667 z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Filter Units</span>
            </a>
            <span style="width: 30px;">&nbsp;</span>
            <a onclick="convertCSV()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.802308"
                        d="M 18.617507,14.296663 H 22 v 1.549444 H 18.617507 V 19 h -1.661751 v -3.153893 h -3.382494 v -1.549444 h 3.382494 V 11.14277 h 1.661751 z m -6.647003,4.648332 H 2 v -1.549444 h 9.970504 z m 0,-3.117481 H 2 V 14.27807 h 9.970504 z m 0,-3.080295 H 2 v -1.549444 h 9.970504 z M 21.941008,9.6483316 H 2 V 8.0988877 h 19.941008 z m 0,-3.0988877 H 2 V 5 h 19.941008 z" />
                </svg>
                <span class="tooltiptext bottomTooltip">Convert CSV to TMX</span>
            </a>
            <span class="fill_width">&nbsp;</span>
            <a onclick="openHelp()" class="tooltip">
                <svg version="1.1" viewBox="0 0 24 24" height="24" width="24">
                    <path style="stroke-width:0.833333"
                        d="M 12,3.6666667 C 16.595,3.6666667 20.333333,7.405 20.333333,12 20.333333,16.595 16.595,20.333333 12,20.333333 7.405,20.333333 3.6666667,16.595 3.6666667,12 3.6666667,7.405 7.405,3.6666667 12,3.6666667 Z M 12,2 C 6.4775,2 2,6.4775 2,12 2,17.5225 6.4775,22 12,22 17.5225,22 22,17.5225 22,12 22,6.4775 17.5225,2 12,2 Z m 1.041667,14.166667 c 0,0.575 -0.465834,1.041666 -1.041667,1.041666 -0.574167,0 -1.041667,-0.466666 -1.041667,-1.041666 0,-0.575 0.4675,-1.041667 1.041667,-1.041667 0.575833,0 1.041667,0.466667 1.041667,1.041667 z M 14.2025,7.835 C 13.695833,7.3216667 12.94,7.0391667 12.076667,7.0391667 10.26,7.0391667 9.085,8.3308333 9.085,10.330833 h 1.675833 c 0,-1.238333 0.690834,-1.6774997 1.281667,-1.6774997 0.528333,0 1.089167,0.3508334 1.136667,1.0216667 0.05167,0.705833 -0.325,1.064167 -0.801667,1.5175 -1.176667,1.119167 -1.198333,1.660833 -1.193333,2.89 H 12.855 c -0.01083,-0.553333 0.025,-1.0025 0.779167,-1.815 0.564166,-0.608333 1.265833,-1.365 1.28,-2.5183333 0.0092,-0.77 -0.236667,-1.4325 -0.711667,-1.9141667 z" />
                </svg>
                <span class="tooltiptext bottomRightTooltip">User Guide</span>
            </a>
        </div>
    </header>

    <div id="main">
        <div style="position: absolute; top: 30px; bottom: 30px; display:flex; width: 100%;">
            <div id="left-pane" style="width:80vw; overflow: scroll;">
                <table id="mainTable" class="stripes">
                    <thead id='tableHeader'>
                        <tr class="dark_background">
                            <th class="fixed dark_background">
                                <input type="checkbox" id="selectAll" onclick="toggleSelectAll()">
                            </th>
                            <th class="fixed dark_background">#</th>
                            <th class="dark_background">&nbsp;</th>
                            <th class="dark_background">&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">

                    </tbody>
                </table>
            </div>

            <div id="divider" class="hdivider" draggable="true" ondragend="hDragEnd(event, 'left-pane', 'right-pane')"
                ondragstart="hDragStart(event, 'left-pane', 'right-pane')"></div>

            <div id="right-pane" style="width:20vw; min-width: 200px; height: 100%; display: block;">

                <div id="topPanel" class="fill_width" style="height: 34%;">
                    <div class="titlepanel">
                        <span id="attributesSpan">TU</span> &nbsp;&nbsp;Attributes
                        <span class="fill_width">&nbsp;</span>
                        <a href="#" onclick="editAttributes()" class="tooltip right">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            <span class="tooltiptext bottomRightTooltip">Edit Attributes</span>
                        </a>
                    </div>
                    <div id="attributesPanel" class="panelcontent">
                        <table class="stripes">
                            <tbody id="attributesTable">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="topDivider" class="vdivider" draggable="true"
                    ondragend="vDragEnd(event, 'topDivider', 'topPanel', 'centerPanel', 'attributesPanel', 'propertiesPanel')"
                    ondragstart="vDragStart(event, 'topDivider', 'topPanel', 'centerPanel')"></div>

                <div id="centerPanel" class="fill_width" style="height: 33%;">
                    <div class="titlepanel">
                        <span id="propertiesSpan">TU</span> &nbsp;&nbsp;Properties
                        <span class="fill_width">&nbsp;</span>
                        <a onclick="editProperties()" class="tooltip right">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            <span class="tooltiptext bottomRightTooltip">Edit Properties</span>
                        </a>
                    </div>
                    <div id="propertiesPanel" class="panelcontent">
                        <table class="stripes">
                            <tbody id="propertiesTable">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="bottomDivider" class="vdivider" draggable="true"
                    ondragend="vDragEnd(event, 'bottomDivider', 'centerPanel', 'bottomPanel', 'propertiesPanel', 'notesPanel')"
                    ondragstart="vDragStart(event, 'bottomDivider', 'centerPanel', 'bottomPanel')"></div>

                <div id="bottomPanel" class="fill_width" style="height: 33%;">
                    <div class="titlepanel">
                        <span id=notesSpan>TU</span> &nbsp;&nbsp;Notes
                        <span class="fill_width">&nbsp;</span>
                        <a onclick="editNotes()" class="tooltip right">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            <span class="tooltiptext bottomRightTooltip">Edit Notes</span>
                        </a>
                    </div>
                    <div id="notesPanel" class="panelcontent">
                        <table class="stripes">
                            <tbody id="notesTable">
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <footer>
        <div style="display: flex;">
            <a id="first" onclick="firstPage()" class="tooltip">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z" />
                    <path fill="none" d="M24 24H0V0h24v24z" /></svg>
                <span class="tooltiptext topTooltip">First Page</span>
            </a>
            <a id="previous" onclick="previousPage()" class="tooltip">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                    <path d="M0 0h24v24H0z" fill="none" /></svg>
                <span class="tooltiptext topTooltip">Previous Page</span>
            </a>
            <span style="margin-left: 10px; margin-top:2px;">Page</span>
            <div class="tooltip">
                <input id="page" type="number" style="margin-left: 10px; margin-top:2px; width: 50px;" value="0">
                <span class="tooltiptext topTooltip">Enter page number and press ENTER</span>
            </div>
            <span style="margin-left: 10px; margin-top:2px;">of </span>
            <span id="pages" style="width: 60px; margin-left: 10px; margin-top:2px;">0</span>
            <a id="next" onclick="nextPage()" class="tooltip">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
                    <path d="M0 0h24v24H0z" fill="none" /></svg>
                <span class="tooltiptext topTooltip">Next Page</span>
            </a>
            <a id="last" onclick="lastPage()" class="tooltip">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z" />
                    <path fill="none" d="M0 0h24v24H0V0z" /></svg>
                <span class="tooltiptext topTooltip">Last Page</span>
            </a>
            <span style="margin-left: 10px; margin-top:2px;">Units Page</span>
            <div class="tooltip">
                <input id="units_page" type="number" style="margin-left: 10px; margin-top:2px; width: 50px;"
                    value="200">
                <span class="tooltiptext topTooltip">Enter number of units/page and press ENTER</span>
            </div>
            <span style="margin-left: 10px; margin-top:2px;">Units: </span>
            <span id="units" style="margin-left: 10px; margin-top:2px; min-width: 100px;"></span>
        </div>
    </footer>

    <div id="status" class="status" style="display:none;">

    </div>

    <script>
        function setSizes() {
            var rightPane = document.getElementById('right-pane');
            var height = ((rightPane.clientHeight - 4) / 3) - 25;

            var attributesPanel = document.getElementById('attributesPanel');
            attributesPanel.style.height = height + 'px';

            var propertiesPanel = document.getElementById('propertiesPanel');
            propertiesPanel.style.height = height + 'px';

            var notesPanel = document.getElementById('notesPanel');
            notesPanel.style.height = (height - 2) + 'px';
        }
        function resizePanels() {
            var topPanel = document.getElementById('topPanel');
            var attributesPanel = document.getElementById('attributesPanel');
            attributesPanel.style.height = (topPanel.clientHeight - 25) + 'px';

            var centerPanel = document.getElementById('centerPanel');
            var propertiesPanel = document.getElementById('propertiesPanel');
            propertiesPanel.style.height = (centerPanel.clientHeight - 25) + 'px';

            var bottomPanel = document.getElementById('bottomPanel');
            var notesPanel = document.getElementById('notesPanel');
            notesPanel.style.height = (bottomPanel.clientHeight - 25) + 'px';
        }
    </script>
    <script src="js/main.js"></script>
    <script src="js/divider.js"></script>
</body>

</html>